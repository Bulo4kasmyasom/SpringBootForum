<!-- new topic message form -->
<div class="row mt-4 mb-3" th:fragment="topic-message-new(topicId, authorId, topicMessageWhenErrorsGet)">
    <button type="button" class="btn btn-primary btn-sm btn-light" data-bs-toggle="modal"
            data-bs-target="#topic-message-new">Ответить
    </button>

    <div class="modal fade modal-lg" id="topic-message-new" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="topic-message-new-title">Создание нового сообщения</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                            aria-label="Close"></button>
                </div>
                <form th:action="@{/topic-message/new}" method="post">
                    <div class="modal-body">
                        <div class="mb-3">
                            <label for="topic-message-new-text" class="form-label">Текст</label>
                            <textarea name="text" class="form-control"
                                      id="topic-message-new-text"
                                      rows="13" minlength="2" maxlength="4000"
                            >[[${topicMessageWhenErrorsGet!=null ? topicMessageWhenErrorsGet.text :''}]]</textarea>
                            <input type="hidden" name="topicId" th:value="${topicId}">
                            <input type="hidden" name="authorId" th:value="${authorId}">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <input type="submit" value="Отправить" class="btn btn-primary btn-sm btn-light">
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- login form -->
<th:block th:fragment="login-form">
    <button type="button" class="btn btn-primary btn-sm btn-light" data-bs-toggle="modal"
            data-bs-target="#login-modal">Войти
    </button>

    <div class="modal fade" id="login-modal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="login-modal-title">Войти</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                            aria-label="Close"></button>
                </div>
                <form th:action="@{/login}" method="post">
                    <div class="modal-body">
                        <div class="mb-3">
                            <label for="login-username" class="form-label">Логин</label>
                            <input type="text" name="username" class="form-control"
                                   id="login-username" value="admin">
                        </div>
                        <div class="mb-3">
                            <label for="login-password" class="form-label">Пароль</label>
                            <input type="password" name="password" class="form-control"
                                   id="login-password" value="admin">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <input type="submit" class="btn btn-primary btn-sm btn-light"
                               value="Войти">
                    </div>
                </form>
            </div>
        </div>
    </div>
</th:block>

<!-- registration form -->
<th:block th:fragment="registration-form">
    <button type="button" class="btn btn-primary btn-sm btn-light" data-bs-toggle="modal"
            data-bs-target="#registration-modal">Регистрация
    </button>

    <div class="modal fade" id="registration-modal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="registration-modal-title">Регистрация</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                            aria-label="Close"></button>
                </div>
                <form th:action="@{/users/registration}" method="post">
                    <div class="modal-body">
                        <div class="mb-3">
                            <label for="registration-username" class="form-label">Логин</label>
                            <input type="text" name="username" class="form-control"
                                   id="registration-username">
                        </div>
                        <div class="mb-3">
                            <label for="registration-password" class="form-label">Пароль</label>
                            <input type="password" name="password" class="form-control"
                                   id="registration-password">
                        </div>
                        <div class="mb-3">
                            <label for="registration-email" class="form-label">Email</label>
                            <input type="email" name="email" class="form-control"
                                   id="registration-email">
                        </div>
                        <div class="mb-3">
                            <label for="registration-image" class="form-label">Аватар</label>
                            <input type="text" name="image" class="form-control"
                                   id="registration-image" value="x.png">
                        </div>
                        <div class="mb-3">
                            <label for="roles">
                                <select class="form-select" id="roles" name="role">
                                    <option value="ADMIN">ADMIN</option>
                                    <option value="MODERATOR">MODERATOR</option>
                                    <option value="USER" selected>USER</option>
                                </select>
                            </label>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <input type="submit" class="btn btn-primary btn-sm btn-light"
                               value="Зарегистрироваться">
                    </div>
                </form>
            </div>
        </div>
    </div>
</th:block>


<!-- new topic create form -->
<th:block th:fragment="topic-new(category, subCategory, topicMessageWhenErrorsGet)">
    <button type="button" class="btn btn-primary btn-sm btn-light mt-2" data-bs-toggle="modal"
            data-bs-target="#topic-new">Создать новую тему
    </button>

    <div class="modal fade modal-lg" id="topic-new" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="topic-new-title-h">Создание новой темы</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                            aria-label="Close"></button>
                </div>
                <form th:action="@{/topic/new}" method="post">
                    <div class="modal-body">

                        <div class="mb-3">
                            <label for="topic-new-title" class="form-label">Название темы</label>
                            <input type="text" name="topicTitle" class="form-control"
                                   id="topic-new-title" th:value="${topicMessageWhenErrorsGet!=null ? topicMessageWhenErrorsGet.topicTitle :''}">
                        </div>
                        <div class="mb-3">
                            <label for="topic-new-message" class="form-label">Сообщение</label>
                            <textarea name="messageText" class="form-control" id="topic-new-message"
                                      minlength="2" maxlength="4000"
                                      rows="13">[[${topicMessageWhenErrorsGet!=null ? topicMessageWhenErrorsGet.messageText :''}]]</textarea>
                        </div>
                        <input type="hidden" name="categoryId" th:value="${category}">
                        <input type="hidden" name="subCategoryId" th:value="${subCategory}">
                    </div>
                    <div class="modal-footer">
                        <input type="submit" class="btn btn-primary btn-sm btn-light" value="Создать новую тему">
                    </div>
                </form>
            </div>
        </div>
    </div>
</th:block>